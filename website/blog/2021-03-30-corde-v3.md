---
title: Releasing Corde v3
author: Lucas Magalh√£es
author_title: Creator of Corde
author_url: https://github.com/lucasgmagalhaes
author_image_url: https://avatars.githubusercontent.com/u/19666463?v=4
tags: [docusaurus-v2]
description: Informations about version 3
hide_table_of_contents: false
---

Today I'm releasing corde version 3, wich has a **full** rework on it's UI,
providing a hole new experience for users, giving them detailed informations about erros
on each type of test, as well as a [stack trace](https://en.wikipedia.org/wiki/Stack_trace) of
each test if it throws a error.

Take a look on how the output were in version 2:

<div style={{textAlign: 'center'}}>

![old ui](/img/console_print.png)

</div>

And how the UI is now:

<div style={{textAlign: 'center'}}>

![new ui](/img/test_success_example.png)

</div>

As you can see, there is many changes such as:

- Time track of execution of the entire cicle of test, of each test file and each test function.
- Display of each test file being executed
- Summary of wich files were executed, how much functions were executed, and how much time it take
- A more human friendly color

Also, tests are _faster_, beause we had a problem with tests verifications:

Bellow is a snippet of `toRenameRole` test function:

```typescript
await this.cordeBot.sendTextMessage(this.command);
await wait(600);
role = await this.cordeBot.fetchRole(role.id);
```

The code above is sending the message to Discord and **waiting** a time to then check if the role was renamed.
I don't have to say how terrible this aproatch was, but, fortunately, it was rewrited and now, Corde works
fully with [Discord Events](https://discord.com/developers/docs/topics/gateway#gateway-intents).

With that, on each type of test, we waits for the emittion of the event. it is MUCH more secure than the older
way, and faster also. Take a look in how the same test function is now (`toRenameRole`):

```typescript
await this.cordeBot.sendTextMessage(this.command);

let newRole: Role;
try {
  newRole = await this.cordeBot.events.onceRoleRenamed(identifier, this.timeOut);
} catch {
    ...
}
```

As you can see, now instead of waits a time, and then check if the role was renamed (it may not be renamed,
in the defined time so, yeah, the test will falsely fail), we waits Discord emmit the event
of role renamed. But as the test can fail purposefully (or not), we can not wait forever,
that is why we have the timout parameter, wich throws a error if the timeout reachs the informed
time (defined in [configs](/docs/configurations#timeout))
