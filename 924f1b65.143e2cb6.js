(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{104:function(e,t,n){"use strict";n.r(t),t.default="data:image/png;base64,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"},71:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return r})),n.d(t,"metadata",(function(){return c})),n.d(t,"rightToc",(function(){return s})),n.d(t,"default",(function(){return A}));var a=n(2),o=n(6),i=(n(0),n(91)),r={id:"getting-started",title:"Getting Started",custom_edit_url:"https://github.com/lucasgmagalhaes/corde/blob/master/website/versioned_docs/version-2.0/GettingStarted.md",slug:"/"},c={unversionedId:"getting-started",id:"version-2.0/getting-started",isDocsHomePage:!1,title:"Getting Started",description:"Install Corde using yarn:",source:"@site/versioned_docs/version-2.0/GettingStarted.md",slug:"/",permalink:"/docs/",editUrl:"https://github.com/lucasgmagalhaes/corde/blob/master/website/versioned_docs/version-2.0/GettingStarted.md",version:"2.0",sidebar:"version-1.0/someSidebar",next:{title:"CLI",permalink:"/docs/cli"}},s=[],l={rightToc:s};function A(e){var t=e.components,r=Object(o.a)(e,["components"]);return Object(i.b)("wrapper",Object(a.a)({},l,r,{components:t,mdxType:"MDXLayout"}),Object(i.b)("p",null,"Install Corde using ",Object(i.b)("a",Object(a.a)({parentName:"p"},{href:"https://yarnpkg.com/en/package/corde"}),Object(i.b)("inlineCode",{parentName:"a"},"yarn")),":"),Object(i.b)("pre",null,Object(i.b)("code",Object(a.a)({parentName:"pre"},{className:"language-bash"}),"yarn add --dev corde\n")),Object(i.b)("p",null,"Or ",Object(i.b)("a",Object(a.a)({parentName:"p"},{href:"https://www.npmjs.com/package/corde"}),Object(i.b)("inlineCode",{parentName:"a"},"npm")),":"),Object(i.b)("pre",null,Object(i.b)("code",Object(a.a)({parentName:"pre"},{className:"language-bash"}),"npm install --save-dev corde\n")),Object(i.b)("p",null,"Note: Corde documentation uses ",Object(i.b)("inlineCode",{parentName:"p"},"yarn")," commands, but ",Object(i.b)("inlineCode",{parentName:"p"},"npm")," will also work. You can compare ",Object(i.b)("inlineCode",{parentName:"p"},"yarn")," and ",Object(i.b)("inlineCode",{parentName:"p"},"npm")," commands in the ",Object(i.b)("a",Object(a.a)({parentName:"p"},{href:"https://yarnpkg.com/en/docs/migrating-from-npm#toc-cli-commands-comparison"}),"yarn docs, here"),"."),Object(i.b)("div",{className:"admonition admonition-info alert alert--info"},Object(i.b)("div",Object(a.a)({parentName:"div"},{className:"admonition-heading"}),Object(i.b)("h5",{parentName:"div"},Object(i.b)("span",Object(a.a)({parentName:"h5"},{className:"admonition-icon"}),Object(i.b)("svg",Object(a.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),Object(i.b)("path",Object(a.a)({parentName:"svg"},{fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"})))),"info")),Object(i.b)("div",Object(a.a)({parentName:"div"},{className:"admonition-content"}),Object(i.b)("p",{parentName:"div"},"This example uses ",Object(i.b)("a",Object(a.a)({parentName:"p"},{href:"https://discord.js.org/#/"}),"Discord.js")," in the bot showcase."))),Object(i.b)("p",null,"Let's get started writing a simple test for a bot that sends just send a simple message."),Object(i.b)("p",null,"First, we need the ",Object(i.b)("inlineCode",{parentName:"p"},"corde")," config file. The fastest way to do that is by calling corde CLI with the following command:"),Object(i.b)("pre",null,Object(i.b)("code",Object(a.a)({parentName:"pre"},{className:"language-bash"}),"yarn corde --init\n")),Object(i.b)("p",null,"This command will create the ",Object(i.b)("inlineCode",{parentName:"p"},"corde.json")," file in the root of your project. For more details about the ",Object(i.b)("inlineCode",{parentName:"p"},"init")," command\ncheck the CLI documentation here."),Object(i.b)("p",null,"This file will have the following structure:"),Object(i.b)("pre",null,Object(i.b)("code",Object(a.a)({parentName:"pre"},{className:"language-javascript"}),'{\n  "cordeTestToken":  "",\n  "botTestId":  "",\n  "botTestToken":  "",\n  "guildId":  "",\n  "channelId":  "",\n  "botPrefix":  "+",\n  "testFiles":  ["./test"]\n}\n')),Object(i.b)("p",null,"With the config file created, we need to put the necesary data to getting started with tests.\nCheck configurations for details about each option."),Object(i.b)("p",null,"Okay, after have the options setted, Let's create or first test."),Object(i.b)("p",null,"Let's supose that we have a file called ",Object(i.b)("inlineCode",{parentName:"p"},"bot.js")," (our bot) and it's have the following structure:"),Object(i.b)("pre",null,Object(i.b)("code",Object(a.a)({parentName:"pre"},{className:"language-javascript",metastring:'title="bot.js"',title:'"bot.js"'}),"const Discord = require('discord.js');\nclient.on('message', async (message) => {\n  if (command === 'hello') {\n    await message.channel.send('Hello!!');\n  }\n}\n\nfunction loginBot() {\n  client.login(config.token);\n}\n\nexports.client = client;\nexports.loginBot = loginBot;\n")),Object(i.b)("p",null,"Then let's create a ",Object(i.b)("inlineCode",{parentName:"p"},"test")," folder in the root of your aplication and then a file called for example: ",Object(i.b)("inlineCode",{parentName:"p"},"bot.test.js"),".\nBy doing this, we have the following structure of files"),Object(i.b)("pre",null,Object(i.b)("code",Object(a.a)({parentName:"pre"},{}),".\n\u251c\u2500\u2500 bot.js\n\u251c\u2500\u2500 test\n|   \u251c\u2500\u2500 bot.test.js\n\u251c\u2500\u2500 _site\n\u251c\u2500\u2500 corde.json\n")),Object(i.b)("p",null,"This bot have just a simple task: Send a fixed message when the users send ",Object(i.b)("strong",{parentName:"p"},"hello"),"."),Object(i.b)("p",null,"So, we need to create a test to ensure that the bot will always send the fixed message (",Object(i.b)("strong",{parentName:"p"},"Hello!!"),") when\nthe user call ",Object(i.b)("strong",{parentName:"p"},"!hello")," (",Object(i.b)("inlineCode",{parentName:"p"},"!")," is the prefix for bot. Always use a prefix for your bot)."),Object(i.b)("p",null,"Let's implement the ",Object(i.b)("inlineCode",{parentName:"p"},"bot.test.js"),":"),Object(i.b)("pre",null,Object(i.b)("code",Object(a.a)({parentName:"pre"},{className:"language-javascript",metastring:'title="./tests/bot.test.js"',title:'"./tests/bot.test.js"'}),'const { group, test, command, beforeStart, afterAll } = require("corde");\nconst { client, loginBot } = require("..");\n\nbeforeStart(() => {\n  loginBot();\n});\n\ngroup("main commands", () => {\n  test("hello command should return \'Hello!!\'", () => {\n    expect("hello").toReturn("Hello!!");\n  });\n});\n\nafterAll(() => {\n  client.destroy();\n});\n')),Object(i.b)("div",{className:"admonition admonition-info alert alert--info"},Object(i.b)("div",Object(a.a)({parentName:"div"},{className:"admonition-heading"}),Object(i.b)("h5",{parentName:"div"},Object(i.b)("span",Object(a.a)({parentName:"h5"},{className:"admonition-icon"}),Object(i.b)("svg",Object(a.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),Object(i.b)("path",Object(a.a)({parentName:"svg"},{fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"})))),"info")),Object(i.b)("div",Object(a.a)({parentName:"div"},{className:"admonition-content"}),Object(i.b)("p",{parentName:"div"},"Corde does not have global function. We pretend to create then in the future."))),Object(i.b)("p",null,"So, what we got here?"),Object(i.b)("p",null,"The first thing that we do is call ",Object(i.b)("inlineCode",{parentName:"p"},"beforeStart")," function. This function is mainly used to\ninit our bot connection (remember the ",Object(i.b)("inlineCode",{parentName:"p"},"loginBot()"),"?)."),Object(i.b)("p",null,"Then we can declare the ",Object(i.b)("inlineCode",{parentName:"p"},"group")," function. Be clare that ",Object(i.b)("inlineCode",{parentName:"p"},"group")," and ",Object(i.b)("inlineCode",{parentName:"p"},"test")," functions are optional.\nYou can use just the ",Object(i.b)("inlineCode",{parentName:"p"},"expect")," function. That is what make the magic happens. (uuuh)"),Object(i.b)("p",null,Object(i.b)("inlineCode",{parentName:"p"},"expect")," wait for the ",Object(i.b)("em",{parentName:"p"},"command name"),". Pay attemtion that we do not put the bot prefix. Corde already do it\nfor us. If we put it, we will se Corde sending ",Object(i.b)("inlineCode",{parentName:"p"},"!!hello")," to Discord (we do not want this)."),Object(i.b)("p",null,"After that, we call ",Object(i.b)("inlineCode",{parentName:"p"},"toReturn")," with the parameter ",Object(i.b)("inlineCode",{parentName:"p"},"Hello!!"),". So, we are telling Corde that we expect that after sending ",Object(i.b)("inlineCode",{parentName:"p"},"!hello"),",\nour bot should send ",Object(i.b)("inlineCode",{parentName:"p"},"Hello!!"),". And that is it."),Object(i.b)("p",null,"To execute this test, we just need to call:"),Object(i.b)("pre",null,Object(i.b)("code",Object(a.a)({parentName:"pre"},{className:"language-bash"}),"yarn corde\n")),Object(i.b)("p",null,"It will run all tests and print the result like follow:"),Object(i.b)("p",null,Object(i.b)("img",{alt:"Result code",src:n(104).default})),Object(i.b)("p",null,"And that is it."))}A.isMDXComponent=!0}}]);